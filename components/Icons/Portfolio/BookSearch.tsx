import anime from "animejs";
import {FunctionComponent, useRef, useEffect, useState} from "react"
import { ILogo } from ".";
const SvgComponent : FunctionComponent<ILogo> = ({className, isVisible}) => {
    const logoRef = useRef<HTMLOrSVGElement | anime.AnimeInstance | any>(null);
    const [show, setShow] = useState(false);
    useEffect(()=>{
        if(isVisible){
            const animationObject : any= {
                targets: `.book path`,
                strokeDashoffset: [anime.setDashoffset, 0],
                easing: 'easeInOutSine',
                duration: 1500,
                delay: function(_: any, i: number) : number { return i * 50 } 
            }
            if(logoRef?.current) logoRef.current= anime(animationObject) ;
            const timeout = setTimeout( ()=> setShow(true), 1500 );
            return ()=> clearTimeout(timeout);
        }
        else{
            setShow(false);
        }
    },[isVisible])
  return (  
  <svg
    xmlns="http://www.w3.org/2000/svg"
    stroke="#01C38D"
    strokeWidth={1}
    viewBox="0 0 338.364 338.364"
    {...(show?{fill:"#01C38D", fillRule:"evenodd"}: {fillOpacity: 0})}
    className={className + " book"}
    ref={logoRef}
  >
    <path d="M332.201 55.344c-2.964-1.232-73.148-30.162-121.749-30.162-21.234 0-33.858 5.597-41.27 13.045-7.412-7.448-20.036-13.045-41.269-13.045-48.602 0-118.786 28.93-121.75 30.162A10 10 0 0 0 0 64.579v238.604a10.002 10.002 0 0 0 10.001 10 9.982 9.982 0 0 0 3.821-.76c.888-.367 89.31-36.731 132.189-36.731 9.963 0 14.035 2.104 14.871 3.349a9.996 9.996 0 0 0 16.739-.215c.004.01.009.018.014.027 1.099-1.257 5.238-3.161 14.72-3.161 42.878 0 131.3 36.364 132.188 36.731a10.008 10.008 0 0 0 9.38-.926 10.002 10.002 0 0 0 4.442-8.314V64.579a10.001 10.001 0 0 0-6.164-9.235zm-13.837 233.121c-27.588-10.607-89.6-32.774-126.01-32.774-4.912 0-9.297.393-13.171 1.184v-43.537a60.392 60.392 0 0 1-20-5.985v49.522c-3.874-.791-8.259-1.184-13.171-1.184-36.411 0-98.423 22.167-126.011 32.774V71.372c17.94-6.927 71.149-26.19 107.913-26.19 31.269 0 31.269 13.592 31.269 19.397v33.713a60.323 60.323 0 0 1 20-5.986V64.579c0-5.805 0-19.397 31.27-19.397 36.764 0 89.972 19.264 107.912 26.19v217.093z" />
    <path d="M46.871 117.682a7.461 7.461 0 0 0 3.466-.854c13.884-7.249 54.114-23.65 73.292-12.643a7.499 7.499 0 0 0 10.238-2.771 7.5 7.5 0 0 0-2.771-10.238c-13.058-7.496-31.994-7.576-56.279-.236-17.231 5.208-30.861 12.298-31.433 12.597a7.501 7.501 0 0 0 3.487 14.145zM46.871 157.682a7.461 7.461 0 0 0 3.466-.854c13.884-7.249 54.114-23.65 73.292-12.643a7.448 7.448 0 0 0 2.416.872 60.967 60.967 0 0 1 3.711-14.583c-13.001-6.771-31.462-6.631-54.938.465-17.231 5.208-30.861 12.298-31.433 12.597a7.499 7.499 0 0 0-3.167 10.119 7.498 7.498 0 0 0 6.653 4.027zM46.871 197.682a7.461 7.461 0 0 0 3.466-.854c13.884-7.249 54.114-23.653 73.292-12.642a7.477 7.477 0 0 0 6.115.599l3.064-3.064a60.58 60.58 0 0 1-4.917-12.161c-12.88-5.83-30.7-5.382-53.073 1.379-17.231 5.208-30.861 12.298-31.433 12.598a7.497 7.497 0 0 0-3.167 10.118 7.496 7.496 0 0 0 6.653 4.027zM74.817 210.94c-17.231 5.208-30.861 12.298-31.433 12.598a7.497 7.497 0 0 0-3.167 10.118 7.498 7.498 0 0 0 10.12 3.172c8.472-4.423 26.75-12.245 44.072-15.178a17.431 17.431 0 0 1 3.488-5.021l11.082-11.081c-9.822-.3-21.225 1.483-34.162 5.392zM204.227 94.474a60.224 60.224 0 0 1 15.863 7.482c20.512-6.03 55.24 8.242 67.938 14.872a7.497 7.497 0 0 0 10.119-3.17 7.5 7.5 0 0 0-3.168-10.123c-.572-.299-14.202-7.389-31.433-12.597-24.284-7.339-43.219-7.26-56.279.237a7.489 7.489 0 0 0-3.04 3.299zM294.98 143.537c-.572-.299-14.202-7.389-31.433-12.597-8.016-2.422-15.436-4.02-22.268-4.825a60.236 60.236 0 0 1 5.189 15.994c16.55 3.223 33.497 10.51 41.559 14.72a7.498 7.498 0 0 0 10.119-3.169 7.499 7.499 0 0 0-3.166-10.123zM294.98 183.538c-.572-.3-14.202-7.39-31.433-12.598-6.274-1.896-12.184-3.287-17.735-4.192a60.206 60.206 0 0 1-5.343 14.377c18.299 2.386 38.517 10.983 47.559 15.704a7.498 7.498 0 0 0 10.119-3.17 7.497 7.497 0 0 0-3.167-10.121zM294.98 223.538c-.572-.3-14.202-7.39-31.433-12.598-24.284-7.34-43.219-7.26-56.279.237a7.501 7.501 0 0 0 7.467 13.01c19.176-11.009 59.408 5.393 73.292 12.642a7.498 7.498 0 0 0 10.119-3.17 7.496 7.496 0 0 0-3.166-10.121z" />
    <path d="M236.506 152.815c0-13.61-5.301-26.407-14.925-36.031-9.624-9.624-22.419-14.925-36.03-14.925s-26.407 5.301-36.031 14.925c-9.624 9.624-14.925 22.421-14.925 36.031 0 11.077 3.512 21.613 10.007 30.342l-40.547 40.545a7.5 7.5 0 0 0 0 10.606 7.474 7.474 0 0 0 5.303 2.197 7.477 7.477 0 0 0 5.303-2.196l40.547-40.546c8.727 6.495 19.265 10.007 30.342 10.007 13.61 0 26.406-5.3 36.029-14.924 9.626-9.625 14.927-22.421 14.927-36.031zm-25.532 25.425c-6.79 6.791-15.819 10.53-25.422 10.53-9.604 0-18.633-3.739-25.425-10.531-6.791-6.791-10.531-15.82-10.531-25.424 0-9.605 3.74-18.633 10.531-25.425 6.792-6.791 15.821-10.531 25.425-10.531 9.604 0 18.632 3.74 25.423 10.532 6.791 6.791 10.532 15.82 10.532 25.424s-3.741 18.633-10.533 25.425z" />
  </svg>
)
  }
export default SvgComponent
